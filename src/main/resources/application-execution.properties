# 执行服务器专用配置 - 端口8082
spring.application.name=med_ai_assistant_execution_server
server.port=8082

# 数据库类型配置
app.datasource.type=oracle

# 禁用数据初始化
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=never

# Oracle 数据库配置（与主应用相同）
spring.datasource.oracle.url=jdbc:oracle:thin:@${oracle.server.ip:100.66.1.2}:1521/FREE
spring.datasource.oracle.driverClassName=oracle.jdbc.OracleDriver
spring.datasource.oracle.username=system
spring.datasource.oracle.password=Liuzh_123

# Oracle连接池配置 - 增加超时时间以支持长时间处理
spring.datasource.oracle.hikari.connection-timeout=60000
spring.datasource.oracle.hikari.initialization-fail-timeout=0
# Note: validation-timeout and leak-detection-threshold are not standard HikariCP properties
# They may be custom properties for your application

# JPA/Hibernate Properties
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Shanghai

# Web配置 - 增加超时时间以支持长时间的LLM处理
server.tomcat.connection-timeout=120000
server.tomcat.keep-alive-timeout=120000
spring.mvc.async.request-timeout=120000

# 允许bean定义覆盖
spring.main.allow-bean-definition-overriding=true

# 显式导入AI模型配置
spring.config.import=classpath:ai-models.properties

# 异步回调配置 - 执行服务器需要回调到主应用服务器(8081)
# 注意：如果执行服务器和主服务器运行在不同的机器上，请将localhost替换为主服务器的实际IP地址或主机名
# 支持多个主服务器地址，用逗号分隔
callback.default-callback-url=http://100.66.1.1:8081/api/callback/receive
callback.max-retries=3
callback.retry-interval=5000


# 回调功能开关配置
callback.enabled=false
